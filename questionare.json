{"openapi":"3.1.0","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/health":{"get":{"summary":"Health","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/survey":{"get":{"summary":"Get Full Questionnaire","operationId":"get_full_questionnaire_survey_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SurveyFull"}}}}}}},"/survey/submit":{"post":{"summary":"Submit Survey","operationId":"submit_survey_survey_submit_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SurveySubmission"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmissionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Freeform":{"properties":{"freeform_feelings":{"type":"string","title":"Freeform Feelings"},"freeform_challenges":{"type":"string","title":"Freeform Challenges"},"freeform_other_notes":{"type":"string","title":"Freeform Other Notes"}},"type":"object","required":["freeform_feelings","freeform_challenges","freeform_other_notes"],"title":"Freeform"},"GAD7":{"properties":{"gad1":{"type":"integer","maximum":3.0,"minimum":0.0,"title":"Gad1"},"gad2":{"type":"integer","maximum":3.0,"minimum":0.0,"title":"Gad2"},"gad3":{"type":"integer","maximum":3.0,"minimum":0.0,"title":"Gad3"},"gad4":{"type":"integer","maximum":3.0,"minimum":0.0,"title":"Gad4"},"gad5":{"type":"integer","maximum":3.0,"minimum":0.0,"title":"Gad5"},"gad6":{"type":"integer","maximum":3.0,"minimum":0.0,"title":"Gad6"},"gad7":{"type":"integer","maximum":3.0,"minimum":0.0,"title":"Gad7"}},"type":"object","required":["gad1","gad2","gad3","gad4","gad5","gad6","gad7"],"title":"GAD7"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Meta":{"properties":{"title":{"type":"string","title":"Title"},"instructions":{"type":"string","title":"Instructions"}},"type":"object","required":["title","instructions"],"title":"Meta"},"Option":{"properties":{"label":{"type":"string","title":"Label"},"value":{"anyOf":[{"type":"integer"},{"type":"string"}],"title":"Value"}},"type":"object","required":["label","value"],"title":"Option"},"PHQ9":{"properties":{"phq1":{"type":"integer","maximum":3.0,"minimum":0.0,"title":"Phq1"},"phq2":{"type":"integer","maximum":3.0,"minimum":0.0,"title":"Phq2"},"phq3":{"type":"integer","maximum":3.0,"minimum":0.0,"title":"Phq3"},"phq4":{"type":"integer","maximum":3.0,"minimum":0.0,"title":"Phq4"},"phq5":{"type":"integer","maximum":3.0,"minimum":0.0,"title":"Phq5"},"phq6":{"type":"integer","maximum":3.0,"minimum":0.0,"title":"Phq6"},"phq7":{"type":"integer","maximum":3.0,"minimum":0.0,"title":"Phq7"},"phq8":{"type":"integer","maximum":3.0,"minimum":0.0,"title":"Phq8"},"phq9":{"type":"integer","maximum":3.0,"minimum":0.0,"title":"Phq9"}},"type":"object","required":["phq1","phq2","phq3","phq4","phq5","phq6","phq7","phq8","phq9"],"title":"PHQ9"},"Question":{"properties":{"id":{"type":"string","title":"Id"},"text":{"type":"string","title":"Text"},"type":{"type":"string","enum":["radio","textarea","number","interstitial"],"title":"Type"},"options":{"anyOf":[{"items":{"$ref":"#/components/schemas/Option"},"type":"array"},{"type":"null"}],"title":"Options"},"min":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Min"},"max":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Max"}},"type":"object","required":["id","text","type"],"title":"Question"},"SubmissionResponse":{"properties":{"user_id":{"type":"string","format":"uuid4","title":"User Id"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"},"phq9_score":{"type":"integer","title":"Phq9 Score"},"gad7_score":{"type":"integer","title":"Gad7 Score"},"whodas_score":{"type":"number","title":"Whodas Score"},"llm_summary":{"additionalProperties":true,"type":"object","title":"Llm Summary"}},"type":"object","required":["user_id","timestamp","phq9_score","gad7_score","whodas_score","llm_summary"],"title":"SubmissionResponse"},"SurveyFull":{"items":{"$ref":"#/components/schemas/SurveySection"},"type":"array","title":"SurveyFull"},"SurveySection":{"properties":{"meta":{"$ref":"#/components/schemas/Meta"},"questions":{"items":{"$ref":"#/components/schemas/Question"},"type":"array","title":"Questions"}},"type":"object","required":["meta","questions"],"title":"SurveySection"},"SurveySubmission":{"properties":{"user_id":{"anyOf":[{"type":"string","format":"uuid4"},{"type":"null"}],"title":"User Id"},"phq9":{"$ref":"#/components/schemas/PHQ9"},"gad7":{"$ref":"#/components/schemas/GAD7"},"whodas":{"$ref":"#/components/schemas/WHODAS"},"freeform":{"$ref":"#/components/schemas/Freeform"}},"type":"object","required":["phq9","gad7","whodas","freeform"],"title":"SurveySubmission"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"WHODAS":{"properties":{"whodas1":{"type":"integer","maximum":4.0,"minimum":0.0,"title":"Whodas1"},"whodas2":{"type":"integer","maximum":4.0,"minimum":0.0,"title":"Whodas2"},"whodas3":{"type":"integer","maximum":4.0,"minimum":0.0,"title":"Whodas3"},"whodas4":{"type":"integer","maximum":4.0,"minimum":0.0,"title":"Whodas4"},"whodas5":{"type":"integer","maximum":4.0,"minimum":0.0,"title":"Whodas5"},"whodas6":{"type":"integer","maximum":4.0,"minimum":0.0,"title":"Whodas6"},"whodas7":{"type":"integer","maximum":4.0,"minimum":0.0,"title":"Whodas7"},"whodas8":{"type":"integer","maximum":4.0,"minimum":0.0,"title":"Whodas8"},"whodas9":{"type":"integer","maximum":4.0,"minimum":0.0,"title":"Whodas9"},"whodas10":{"type":"integer","maximum":4.0,"minimum":0.0,"title":"Whodas10"},"whodas11":{"type":"integer","maximum":4.0,"minimum":0.0,"title":"Whodas11"},"whodas12":{"type":"integer","maximum":4.0,"minimum":0.0,"title":"Whodas12"},"whodas_days_present":{"type":"integer","maximum":30.0,"minimum":0.0,"title":"Whodas Days Present"},"whodas_days_unable":{"type":"integer","maximum":30.0,"minimum":0.0,"title":"Whodas Days Unable"},"whodas_days_cutback":{"type":"integer","maximum":30.0,"minimum":0.0,"title":"Whodas Days Cutback"}},"type":"object","required":["whodas1","whodas2","whodas3","whodas4","whodas5","whodas6","whodas7","whodas8","whodas9","whodas10","whodas11","whodas12","whodas_days_present","whodas_days_unable","whodas_days_cutback"],"title":"WHODAS"}}}}